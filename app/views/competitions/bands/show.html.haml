= render 'competitions/header', competition: @competition, sub: "#{Band.model_name.human}: #{@band.name}"

.row
  .col-md-8
    = card(class: 'mb-3') do |card|
      - card.title @band.name
      - card.direct do
        %table.table
          %tr
            %th= Band.human_attribute_name(:gender)
            %td= t("gender.#{@band.gender}")
          %tr
            %th= Band.human_attribute_name(:name)
            %td= @band.name
          %tr
            %th= Band.human_attribute_name(:tag_names)
            %td
              - if @band.tags.present?
                %ul
                  - @band.tags.each do |tag|
                    %li= tag
              - else
                &dash;

    = card do |card|
      - card.title Assessment.model_name.human(count: :many)
      - if @band.assessments.exists?
        - card.direct do
          %table.table
            %tr
              %th= Assessment.human_attribute_name(:name)
              %th= Assessment.human_attribute_name(:discipline)
            - @band.assessments.each do |assessment|
              %tr
                %td= link_to assessment.name, competition_assessment_path(id: assessment.id)
                %td
                  = discipline_image assessment.discipline.key
                  = assessment.name
      - else
        - card.body do
          .alert.alert-info= t('a.no_entries_found')

  .col-md-4
    = card do |card|
      - card.title t('a.actions')
      = card.primary_actions do |actions|
        = actions.link_to 'Übersicht', { action: :index }, end_icon: :list
      - card.body do
        .d-grid.gap-2
          = btn_link_to 'Bearbeiten', { action: :edit }
          - if @band.destroy_possible?
            = btn_link_to 'Löschen', { action: :destroy }, data: { turbo_method: 'delete', turbo_confirm: 'Wertungsgruppe wirklich löschen?' }
          - else
            .alert.alert-warning
              Diese Wertungsgruppe kann nicht gelöscht werden. Es sind Wertungen zugeordnet.
