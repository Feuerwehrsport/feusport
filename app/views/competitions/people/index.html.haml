= render 'competitions/header', competition: @competition, sub: resource_class.model_name.human(count: :many)

- if can?(:manage, @competition) && resource_collection.exists?(fire_sport_statistics_person_id: nil)
  .row
    .col-lg-12
      .alert.alert-warning
        %p Zu einigen Wettk채mpfern konnte keine Verkn체pfung mit einem vorhandenen Wettk채mpfer gefunden werden.

        = btn_link_to('Wettk채mpfer ansehen', without_statistics_connection_competition_people_path)

- @competition.bands.sort.each do |band|
  - people = resource_collection.where(band:).sort
  = card(band.name, class: 'mb-3') do |c|
    - if people.count > 0
      - c.direct do
        = render('index_table', resource_class:, resource_collection: people, band:)
      - c.footer do
        %small= "#{people.count} #{Person.model_name.human(count: people.count)}"
    - else
      - c.body do
        .alert.alert-info= t('a.no_entries_found')

    - if can?(:create, resource_class.new(competition: @competition, band:))
      - c.primary_actions do |actions|
        - actions.link_to t('a.add'), { action: :new, band_id: band.id }, end_icon: :square_plus

      - c.actions do |actions|
        - actions.link_to 'PDF', { format: :pdf }, end_icon: :file_pdf, target: '_blank', rel: 'noopener'
        - actions.link_to 'XLS', { format: :xlsx }, end_icon: :file_excel
